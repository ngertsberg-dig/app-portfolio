<!DOCTYPE html>
<html lang="en-ca">

<head>
  <meta charset="UTF-8">
  <title> </title>
  <!-- If IE use the latest rendering engine -->

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Set the page to the width of the device and set the zoon level -->

  <meta name="viewport" content="width = device-width, initial-scale = 1">

  <!-- BOOTSTRAP REFERENECE -->

  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="velocity.min.js"></script>
  <script src="anime.min.js"></script>
  <link rel="stylesheet" href="font-awesome.min.css">
  <link rel="stylesheet" href="font-awesome.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.1/velocity.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.1/velocity.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.2.0/anime.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.2.0/anime.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
  <script src="paroller.js"></script>
  <script src="paroller.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.13/vue.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.10.0/js/lightbox.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.10.0/css/lightbox.min.css" rel="stylesheet">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap-theme.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.9/angular.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/2.2.1/vue-router.js"></script>
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.min.js"></script>



  <link href = 'https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.7/jquery.fullpage.css' rel = 'stylesheet'>
  <script src = 'https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.7/jquery.fullpage.js'></script>
  <script src = 'https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js'></script>

  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<style>
:root { --mainBackgroundColor: white; --fontColor: black; }
 * { box-sizing: border-box; }
[class*="col-NZ"] { float: left; }
.show-on-mobile, .show-on-tablet { display: none}
.white-text { color: white; }
.col-NZ-1{ width: 8.33%; }
.col-NZ-2 { width: 16.66%; }
.col-NZ-3 { width: 25%; }
.col-NZ-4 { width: 33.33%; }
.col-NZ-5 { width: 41.66%; }
.col-NZ-6 { width: 50% }
.col-NZ-7 { width: 58.33% }
.col-NZ-8 { width: 66.66% }
.col-NZ-9 { width: 75% }
.col-NZ-10 { width:83.33% }
.col-NZ-11 { width: 91.66% }
.col-NZ-12 { width: 100% }
   @media(max-width: 1000px) {
.hide-on-tablet { display: none; }
.show-on-tablet { display: block; }
.col-NZ-1-tablet { width: 8.33%; }
.col-NZ-2-tablet { width: 16.66%; }
.col-NZ-3-tablet { width: 25%; }
.col-NZ-4-tablet { width: 33.33%; }
.col-NZ-5-tablet { width: 41.66%; }
.col-NZ-6-tablet{ width: 50%; }
.col-NZ-7-tablet { width: 58.33%; }
.col-NZ-8-tablet { width: 66.66%; }
.col-NZ-9-tablet { width: 75%; }
.col-NZ-10-tablet { width: 83.33%; }
.col-NZ-11-tablet { width: 91.66%; }
.col-NZ-12-tablet { width: 100%; }}
    @media(max-width: 767px) {
.hide-on-mobile { display: none; }
.show-on-mobile { display: block; }
.col-NZ-1-mobile { width: 8.33%; }
.col-NZ-2-mobile { width: 16.66%; }
.col-NZ-3-mobile { width: 25%; }
.col-NZ-4-mobile { width: 33.33%; }
.col-NZ-5-mobile { width: 41.66%; }
.col-NZ-6-mobile{ width: 50%; }
.col-NZ-7-mobile { width: 58.33%; }
.col-NZ-8-mobile { width: 66.66%; }
.col-NZ-9-mobile { width: 75%; }
.col-NZ-10-mobile { width: 83.33%; }
.col-NZ-11-mobile { width: 91.66%; }
.col-NZ-12-mobile { width: 100%; }
}
ul {
    list-style: none;
    width: 100%;
    float: left;
    padding-left: 0px;
}

.weather-container {
    border: 1px dashed #7f7f0d;
    display: inline;
    float: left;
    width: 25%;
    padding: 25px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.weather-status {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
h1{
    text-align:center;
}
.currentDay{
  background-color:rgb(204, 239, 255)
}
.swal-modal .weather-container {
    width: 100%;
}

.swal-modal .swal-button-container {
    width: 100%;
    display: flex;
    padding-top: 20px;
}

button {
    margin: 0 auto !important;
}

</style>
<body>
  <div id = 'app'>

      <h1>{{weather.results.channel.location.city}}, {{weather.results.channel.location.country}}</h1>
        <ul>
          <li v-for = "forecast in weatherForecast" @click = 'showDetails'>
            <div class = 'weather-container'>
              <div class = 'weather-status'>
            <a>
                <img>
            </a>
                  <div class = 'weather-text-for-image'>
                    {{forecast.text | textToImage}}
                  </div>
              </div>
              <div class = 'high-low'>
                <i class="fa fa-chevron-up" style = 'color:orange;'></i> {{forecast.high | filterFarenToCelc}} °C <i class="fa fa-chevron-down" style = 'color:rgb(204, 239, 255);'></i> {{forecast.low | filterFarenToCelc}} °C
              </div>
                <div class = 'forecast-day'>
                  {{forecast.day}}
                </div>
                <div class = 'forecast-date'>
                  <strong>{{forecast.date}}</strong>
                </div>
              </div>
          </li>
        </ul>
        <h1>API Info</h1>
          <ul>
            <li v-for = "forecast in weatherForecast">{{forecast}}</li>
          </ul>
  </div>

</body>

<script>
var app1 = new Vue({
  el:"#app",
  data:{
    weather:[],
    weatherForecast:[],
    weatherError:[],
    currentDay:null
  },
  created(){
    axios.get("https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22Barrie%2CCA%22)&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys")
      .then(response =>{
        this.weather = response.data.query;
        this.weatherForecast = response.data.query.results.channel.item.forecast;
      }).catch(e=>{
        this.weatherError.push(e);
      })
  },
  filters:{
    textToImage:function(text){
       var text = text.replace(/\s/g, '');
       return text.toLowerCase();
    },
    filterFarenToCelc:function(temp){
      var temp = (temp - 32) * 5;
      temp = temp / 9;
      return temp.toFixed();
    }
  },
  methods:{
    textToImage(){
        $(".weather-text-for-image").each(function(){
          var src = $(this).text();
          src = src.replace(/\s/g, '');
          $(this).parent().find('img').attr('src',"i/" + src + ".png");
        });

      $(".weather-container").eq(0).addClass("currentDay");
      var currentDayImage = $(".currentDay").find(".weather-text-for-image").text();
      currentDayImage = currentDayImage.replace(/\s/g, '');
      this.changeBackgroundOfApp(currentDayImage);

    },
    changeBackgroundOfApp(weatherOutside){
      if(weatherOutside =='sunny'){
        $("body").css({"backgroundColor":"lightblue"});
      }

    },
    showDetails(e){
      swal(e.target)
    }
  },
    updated:function(){
      this.textToImage();
  }
})
</script>



</html>
